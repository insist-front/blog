(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{633:function(s,a,t){s.exports=t.p+"assets/img/1.9086fdc4.png"},634:function(s,a,t){s.exports=t.p+"assets/img/2.09b4d13b.png"},635:function(s,a){s.exports="data:image/png;base64,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"},636:function(s,a,t){s.exports=t.p+"assets/img/4.a0a9418d.png"},637:function(s,a,t){s.exports=t.p+"assets/img/5.dac28c6f.png"},685:function(s,a,t){"use strict";t.r(a);var n=t(9),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("上传解压tar包 azkaban-db-3.84.4.tar.gz，azkaban-exec-server-3.84.4.tar.gz，azkaban-web-server-3.84.4.tar.gz")])]),s._v(" "),n("li",[n("p",[s._v("配置MySQL")])]),s._v(" "),n("li",[n("p",[s._v("创建数据库")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" azkaban"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("创建azkaban用户(使用root也可)")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("设置密码有效长度 4 位及以上")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("global")]),s._v(" validate_password_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("设置密码策略最低级别")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("global")]),s._v(" validate_password_policy"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("创建 Azkaban 用户，任何主机都可以访问 Azkaban，密码是 000000")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'azkaban'")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v(" IDENTIFIED "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'000000'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("赋予 Azkaban 用户增删改查权限")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" azkaban"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'azkaban'")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OPTION")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("创建 Azkaban 表，完成后退出 MySQL")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" azkaban"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nsource "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("opt"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("module"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("azkaban"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("azkaban"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("db"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.84")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".4")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("all")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sql")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.84")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sql")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])])])]),s._v(" "),n("li",[n("p",[s._v("更改 MySQL 包大小；防止 Azkaban 连接 MySQL 阻塞")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("max_allowed_packet")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1024M\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("重启MySQL")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart mysqld\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("配置Executor Server")]),s._v(" "),n("p",[n("strong",[s._v("Azkaban Executor Server 处理工作流和作业的实际执行")])]),s._v(" "),n("ol",[n("li",[n("p",[s._v("编辑 azkaban.properties")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#...")]),s._v("\ndefault.timezone.id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Asia/Shanghai\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#...")]),s._v("\nazkaban.webserver.url"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://ha01.prdigital.cn:8081\nexecutor.port"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12321")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#...")]),s._v("\ndatabase.type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql\nmysql.port"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\nmysql.host"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".111.10\nmysql.database"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("azkaban\nmysql.user"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root\nmysql.password"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("prinfo\nmysql.numconnections"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])])])])]),s._v(" "),n("li",[n("p",[s._v("同步 azkaban-exec 到所有节点")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("xsync /opt/module/azkaban/azkaban-exec\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("必须进入到/opt/module/azkaban/azkaban-exec 路径")]),s._v("，分别在三台机器上，启动 executor server")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v(" bin/start-exec.sh\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("strong",[s._v("注意：如果在/opt/module/azkaban/azkaban-exec 目录下出现 executor.port 文件，说明启动成功")])])]),s._v(" "),n("li",[n("p",[s._v("下面激活 executor，需要")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -G "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ha01.prdigital.cn:12321/executor?action=activate"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -G "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ha02.prdigital.cn:12321/executor?action=activate"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -G "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ha03.prdigital.cn:12321/executor?action=activate"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[n("strong",[s._v("如果三台机器都出现如下提示，则表示激活成功")])])]),s._v(" "),n("li",[n("p",[s._v("配置 Web Server")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("编辑 azkaban.properties")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("default.timezone.id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Asia/Shanghai\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\ndatabase.type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql\nmysql.port"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\nmysql.host"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".111.10\nmysql.database"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("azkaban\nmysql.user"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root\nmysql.password"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("prinfo\nmysql.numconnections"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nazkaban.executorselector.filters"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("StaticRemainingFlowSize,CpuStatus\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[n("strong",[s._v("说明：")])]),s._v(" "),n("p",[s._v("#StaticRemainingFlowSize：正在排队的任务数；")]),s._v(" "),n("p",[s._v("#CpuStatus：CPU 占用情况")]),s._v(" "),n("p",[s._v("#MinimumFreeMemory：内存占用情况。测试环境，必须将 MinimumFreeMemory 删除掉，否则它会认为集群资源不够，不执行。")])]),s._v(" "),n("li",[n("p",[s._v("修改 azkaban-users.xml 文件，添加 atguigu 用户")]),s._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("azkaban-users")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("user")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("groups")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("azkaban"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("password")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("azkaban"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("roles")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("username")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("azkaban"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("user")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("password")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("metrics"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("roles")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("metrics"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("username")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("metrics"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("user")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("password")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("damoncai"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("roles")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("username")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("damoncai"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("role")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("permissions")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("ADMIN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("role")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("metrics"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("permissions")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("METRICS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("azkaban-users")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("必须进入到 hadoop102 的/opt/module/azkaban/azkaban-web 路径，启动 web server")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("bin/start-web.sh\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("访问 http://ha01.prdigital.cn:8081,并用 atguigu 用户登陆")])])])])]),s._v(" "),n("h1",{attrs:{id:"案例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#案例"}},[s._v("#")]),s._v(" 案例")]),s._v(" "),n("h2",{attrs:{id:"hello-world-案例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hello-world-案例"}},[s._v("#")]),s._v(" Hello World 案例")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("新建 azkaban.project")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("azkaban-flow-version: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.0")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("新建 basic.flow 文件，内容如下")]),s._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nodes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" jobC\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" command\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# jobC 依赖 JobA 和 JobB")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("dependsOn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" jobA\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" jobB\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("config")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n   \t"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(' echo "I’m JobC"\n '),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" jobA\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" command\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("config")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n   \t"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(' echo "I’m JobA"\n '),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" jobB\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" command\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("config")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n   \t"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(' echo "I’m JobB"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("将文件打包上传")]),s._v(" "),n("p",[n("img",{attrs:{src:t(633),alt:""}})])]),s._v(" "),n("li",[n("p",[s._v("执行任务")])])]),s._v(" "),n("h2",{attrs:{id:"自动失败重试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#自动失败重试"}},[s._v("#")]),s._v(" 自动失败重试")]),s._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nodes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" JobA\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" command\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("config")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" sh /not_exists.sh\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("retries")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("retry.backoff")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[n("strong",[s._v("retries：重试次数")])]),s._v(" "),n("p",[n("strong",[s._v("retry.backoff：重试的时间间隔")])]),s._v(" "),n("p",[n("strong",[s._v("也可以在 Flow 全局配置中添加任务失败重试配置，此时重试配置会应用到所有 Job。")])]),s._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("config")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("retries")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("retry.backoff")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nodes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" JobA\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" command\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("config")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" sh /not_exists.sh\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h2",{attrs:{id:"手动失败重试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#手动失败重试"}},[s._v("#")]),s._v(" 手动失败重试")]),s._v(" "),n("h3",{attrs:{id:"方案一"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方案一"}},[s._v("#")]),s._v(" 方案一")]),s._v(" "),n("p",[n("img",{attrs:{src:t(634),alt:""}})]),s._v(" "),n("p",[n("strong",[s._v("将出错之前的job置为disabled，然后执行")])]),s._v(" "),n("h3",{attrs:{id:"方案二"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方案二"}},[s._v("#")]),s._v(" 方案二")]),s._v(" "),n("p",[s._v("在history中找到失败的flow重新执行")]),s._v(" "),n("p",[s._v("​")]),s._v(" "),n("h1",{attrs:{id:"javaprocessor"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#javaprocessor"}},[s._v("#")]),s._v(" JavaProcessor")]),s._v(" "),n("p",[s._v("JavaProcess 类型可以运行一个自定义主类方法，type 类型为 javaprocess，可用的配置为：")]),s._v(" "),n("p",[s._v("Xms：最小堆")]),s._v(" "),n("p",[s._v("Xmx：最大堆")]),s._v(" "),n("p",[s._v("classpath：类路径")]),s._v(" "),n("p",[s._v("java.class：要运行的 Java 对象，其中必须包含 Main 方法")]),s._v(" "),n("p",[s._v("main.args：main 方法的参数")]),s._v(" "),n("h2",{attrs:{id:"案例-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#案例-2"}},[s._v("#")]),s._v(" 案例")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("编写测试类")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Test")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"JavaProcess Test~~~"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("配置flow文件")]),s._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nodes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" JavaProcessTest\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" javaprocess\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("config")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("Xms")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 96M\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("Xmx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 200M\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("java.class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" top.damoncai.azkaban.javaprocess.Test\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("将project、flow和jar包放在一起上传")])])]),s._v(" "),n("h1",{attrs:{id:"条件工作流"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#条件工作流"}},[s._v("#")]),s._v(" 条件工作流")]),s._v(" "),n("p",[s._v("条件工作流功能允许用户自定义执行条件来决定是否运行某些Job。条件可以由当前Job的父 Job 输出的运行时参数构成，也可以使用预定义宏。在这些条件下，用户可以在确定 Job执行逻辑时获得更大的灵活性，例如，只要父 Job 之一成功，就可以运行当前 Job。")]),s._v(" "),n("h2",{attrs:{id:"运行时参数案例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#运行时参数案例"}},[s._v("#")]),s._v(" 运行时参数案例")]),s._v(" "),n("h3",{attrs:{id:"基本原理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基本原理"}},[s._v("#")]),s._v(" 基本原理")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("父 Job 将参数写入 JOB_OUTPUT_PROP_FILE 环境变量所指向的文件")])]),s._v(" "),n("li",[n("p",[s._v("子 Job 使用 ${jobName:param}来获取父 Job 输出的参数并定义执行条件")])])]),s._v(" "),n("h3",{attrs:{id:"支持的条件运算符"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#支持的条件运算符"}},[s._v("#")]),s._v(" 支持的条件运算符")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("== 等于")])]),s._v(" "),n("li",[n("p",[s._v("!= 不等于")])]),s._v(" "),n("li",[n("p",[s._v(">大于")])]),s._v(" "),n("li",[n("p",[s._v(">= 大于等于")])]),s._v(" "),n("li",[n("p",[s._v("< 小于")])]),s._v(" "),n("li",[n("p",[s._v("<= 小于等于")])]),s._v(" "),n("li",[n("p",[s._v("&& 与")])]),s._v(" "),n("li",[n("p",[s._v("|| 或")])]),s._v(" "),n("li",[n("p",[s._v("! 非")])])]),s._v(" "),n("h3",{attrs:{id:"案例-3"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#案例-3"}},[s._v("#")]),s._v(" 案例")]),s._v(" "),n("p",[n("strong",[s._v("需求：")])]),s._v(" "),n("p",[s._v("JobA 执行一个 shell 脚本。")]),s._v(" "),n("p",[s._v("JobB 执行一个 shell 脚本，但 JobB 不需要每天都执行，而只需要每个周一执行。")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("新建 JobA.sh")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"do JobA"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("wk")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%w"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"{'),n("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v("wk"),n("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$wk")]),s._v('}"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JOB_OUTPUT_PROP_FILE")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("新建 JobB.sh")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"do JobB"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("新建 condition.flow")]),s._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nodes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" JobA\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" command\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("config")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" sh JobA.sh\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" JobB\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" command\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("dependsOn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" JobA\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("config")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" sh JobB.sh\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("condition")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("JobA"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("wk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" == 1\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("将 JobA.sh、JobB.sh、condition.flow 和 azkaban.project 打包成 condition.zip")])]),s._v(" "),n("li",[n("p",[s._v("创建 condition 项目=》上传 condition.zip 文件=》执行作业=》观察结果")])]),s._v(" "),n("li",[n("p",[s._v("按照我们设定的条件，JobB 会根据当日日期决定是否执行。")])])]),s._v(" "),n("p",[n("img",{attrs:{src:t(635),alt:""}})]),s._v(" "),n("h2",{attrs:{id:"预定义宏案例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#预定义宏案例"}},[s._v("#")]),s._v(" 预定义宏案例")]),s._v(" "),n("p",[s._v("Azkaban 中预置了几个特殊的判断条件，称为预定义宏")]),s._v(" "),n("p",[s._v("预定义宏会根据所有父 Job 的完成情况进行判断，再决定是否执行。可用的预定义宏如下：")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("all_success: 表示父 Job 全部成功才执行(默认)")])]),s._v(" "),n("li",[n("p",[s._v("all_done：表示父 Job 全部完成才执行")])]),s._v(" "),n("li",[n("p",[s._v("all_failed：表示父 Job 全部失败才执行")])]),s._v(" "),n("li",[n("p",[s._v("one_success：表示父 Job 至少一个成功才执行")])]),s._v(" "),n("li",[n("p",[s._v("one_failed：表示父 Job 至少一个失败才执行")])])]),s._v(" "),n("p",[n("strong",[s._v("需求：")])]),s._v(" "),n("p",[s._v("JobA 执行一个 shell 脚本")]),s._v(" "),n("p",[s._v("JobB 执行一个 shell 脚本")]),s._v(" "),n("p",[s._v("JobC 执行一个 shell 脚本，要求 JobA、JobB 中有一个成功即可执行")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("新建 JobA.sh")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"do JobA"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("新建 JobC.sh")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"do JobC"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("新建 macro.flow")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("nodes:\n  - name: JobA\n    type: command\n    config:\n      command: sh JobA.sh\n  - name: JobB\n    type: command\n    config:\n      command: sh JobB.sh\n  - name: JobC\n    type: command\n    dependsOn:\n      - JobA\n      - JobB\n    config:\n      command: sh JobC.sh\n    condition: one_success\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("JobA.sh、JobC.sh、macro.flow、azkaban.project 文件，打包成 macro.zip。注意：没有 JobB.sh。")])]),s._v(" "),n("li",[n("p",[s._v("创建 macro 项目=》上传 macro.zip 文件=》执行作业=》观察结果")])])]),s._v(" "),n("p",[n("img",{attrs:{src:t(636),alt:""}})]),s._v(" "),n("h1",{attrs:{id:"定时调度"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#定时调度"}},[s._v("#")]),s._v(" 定时调度")]),s._v(" "),n("p",[n("img",{attrs:{src:t(637),alt:""}})]),s._v(" "),n("h1",{attrs:{id:"报警配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#报警配置"}},[s._v("#")]),s._v(" 报警配置")]),s._v(" "),n("h2",{attrs:{id:"邮箱"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#邮箱"}},[s._v("#")]),s._v(" 邮箱")]),s._v(" "),n("h2",{attrs:{id:"手机"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#手机"}},[s._v("#")]),s._v(" 手机")]),s._v(" "),n("h1",{attrs:{id:"azkaban多executor模式注意事项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#azkaban多executor模式注意事项"}},[s._v("#")]),s._v(" Azkaban多Executor模式注意事项")]),s._v(" "),n("p",[s._v("Azkaban 多 Executor 模式是指，在集群中多个节点部署 Executor。在这种模式下，Azkaban web Server 会根据策略，选取其中一个 Executor 去执行任务")]),s._v(" "),n("p",[s._v("为确保所选的 Executor 能够准确的执行任务，我们须在以下两种方案任选其一，推荐使用方案二。")]),s._v(" "),n("h2",{attrs:{id:"方案一-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方案一-2"}},[s._v("#")]),s._v(" 方案一")]),s._v(" "),n("ol",[n("li",[s._v("在 MySQL 中 azkaban 数据库 executors 表中，查询 hadoop102 上的 Executor 的 id")]),s._v(" "),n("li",[s._v("在执行工作流程时加入 useExecutor 属性，如下")])]),s._v(" "),n("h2",{attrs:{id:"方案二-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方案二-2"}},[s._v("#")]),s._v(" 方案二")]),s._v(" "),n("p",[s._v("在 Executor 所在所有节点部署任务所需脚本和应用")])])}),[],!1,null,null,null);a.default=e.exports}}]);